# TLS

This directory contains the TLS- and certificate-related code for the Subzero project.

Nodes use self-signed certificates to identify themselves on the network---the node ID is derived from the certificate presented by the node. Consequently, both nodes, acting as the client and the server,  have to present their certificates, in order to establish a connection.

## Specific details

- A node can run in TLS or in TCP mode, in the latter case all connections are accepted and the node identity needs to be set by a command-line option, instead of being derived from a certificate.

- The generated X.509 certificates are self-signed, containing ED25519 keys (see [certificate.rs](./certificate.rs)).

- Node IDs are generated by hashing the certificate in DER format.

- The `ConnectioStream` type and the `Upgrader` trait allows us to handle TCP and TLS connections in a uniform manner

